Программист — Развернуть local-окружение: !func
  Linux: !story
    сделано: yes
    ситуация:
      - Скачал репозиторий к себе на Linux
      - В системе ещё нет Docker
      - Не хочу отвлекаться на изучение конфигурации Docker и Docker Compose
      - В системе установлен консольный Git
      - В системе ещё нет pre-commit
      - Ещё не регистрировал бота в @BotFather
      - Хорошо знаком с Python
    успех:
      - Прошёл инструкции до конца без явных сбоев
      - Получил от tg-бота финансовые показатели
  Windows 10: !story
    сделано: yes
    ситуация:
      - Скачал репозиторий к себе на Windows
      - В системе ещё нет Docker
      - Не хочу отвлекаться на изучение конфигурации Docker и Docker Compose
      - В системе установлен консольный Git
      - В системе ещё нет pre-commit
      - Ещё не регистрировал бота в @BotFather
      - Хорошо знаком с Python
    успех:
      - Прошёл инструкции до конца без явных сбоев
      - Получил от tg-бота финансовые показатели
  Mac OS: !extension


Программист — Перезапустить код автоматически по изменению: !func
  Tg-бот: !story
    сделано: no
    ситуация:
      - Tg-бот запущен в local-окружении
      - Поменял код tg-бота
    успех:
      - В консоли вижу сообщение от tg-бота о перезапуске


Программист — Изменить набор библиотек:
  Новая python-библиотека: !story
    сделано: yes
    ситуация:
      - Понадобилась ещё одна библиотека для tg-бота
      - Не хочу отвлекаться на изучение конфигурации Docker и Docker Compose
    успех:
      - Через git diff вижу название новой библиотеки, её версию и зависимости в файлах pyproject.toml и poetry.lock

  Лишняя python-библиотека: !story
    сделано: yes
    ситуация:
      - Код tg-бота изменился и старая библиотека больше не используется
      - Не хочу отвлекаться на изучение конфигурации Docker и Docker Compose
    успех:
      - В git diff вижу обновлённые pyproject.toml и poetry.lock


Программист — Запустить автотесты: !func
  Запустить все: !story
    сделано: yes
    ситуация:
      - Внёс изменения в код, хочу проверить с помощью автотестов
      - Не хочу отвлекаться на изучение конфигурации Docker и Docker Compose
      - Не хочу отвлекаться на изучение pytest cli
    успех:
      - Вижу успешное завершение множества тестов

  Чиню поломанный тест: !story
    сделано: yes
    ситуация:
      - При прошлом запуске автотестов нашёл поломанный тест
      - Поправил код, чтобы починить поломанный тест
      - Хочу проверить помогло или нет
      - Не хочу ждать, пока отработают все остальные автотесты
      - Хочу проверить логи/принты от тестируемого кода
      - Не хочу отвлекаться на изучение конфигурации Docker и Docker Compose
      - Не хочу отвлекаться на изучение pytest cli
    успех:
      - Вижу успешное завершение ранее поломанного теста
      - Запустился только один тест
      - Вижу логи/принты от тестируемого кода


Программист — Проверить код статическими анализаторами: !func
  Криво форматирован py-код tg-бота: !story
    сделано: yes
    ситуация:
      - Внёс изменения в py-скрипты tg-бота
      - Накосячил с форматированием
    успех:
      - Вижу список проблем
      - Для каждой проблемы указан путь к файлу, номер строки, код ошибки и пояснение

  Не хватает аннотации типов в py-коде tg-бота: !story
    сделано: yes
    ситуация:
      - Добавил код в py-скрипты tg-бота
      - Забыл проставить аннотацию типов
    успех:
      - Вижу список проблем
      - Для каждой проблемы указан путь к файлу, номер строки, код ошибки и пояснение


Программист — Закоммитить код: !func
  Криво форматирован py-код: !story
    сделано: yes
    ситуация:
      - Внёс изменения в py-скрипты
      - Накосячил с форматированием и не заметил
      - IDE проблему не досветила — ранее сам забил на её настройку
      - Вручную не запускал статические анализаторы — забыл, торопился
      - Пользуюсь консольным git
    отказ:
      - Git ругается на ошибки линтера

  Не хватает аннотации типов в py-коде: !story
    сделано: yes
    ситуация:
      - Внёс изменения в py-скрипты
      - Забыл проставить аннотацию типов
      - IDE проблему не досветила — ранее сам забил на её настройку
      - Вручную не запускал статические анализаторы — забыл, торопился
    отказ:
      - Git ругается на ошибки mypy

  Поломаны автотесты к py-коду: !story
    сделано: yes
    ситуация:
      - Внёс изменения в py-скрипты
      - Случайно поломал код и связанные с ним автотесты, но не заметил проблемы
      - Вручную автотесты не запускал — забыл, торопился
    отказ:
      - Git ругается на ошибки в автотестах


Программист — Настроить подсветку ошибок статического анализа в IDE: !func
  Криво форматирован py-код в Sublime: !story
    сделано: no
    ситуация:
      - Уже развернул проект у себя в local-окружении
      - Не хочу отвлекаться на изучение конфигурации Docker и Docker Compose
      - Внёс изменения в py-скрипты с кривым форматированием кода
    успех:
      - Вижу подсветку проблем в py-коде

  Не хватает аннотации типов в Sublime: !story
    сделано: no
    ситуация:
      - Уже развернул проект у себя в local-окружении
      - Не хочу отвлекаться на изучение конфигурации Docker и Docker Compose
      - Внёс изменения в py-скрипты и забыл проставить аннотацию типов
    успех:
      - Вижу подсветку проблем в py-коде

  Криво форматирован py-код в PyCharm: !story
    сделано: no
    ситуация:
      - Уже развернул проект у себя в local-окружении
      - Не хочу отвлекаться на изучение конфигурации Docker и Docker Compose
    успех:
      - Вижу подсветку проблем в py-коде

  Не хватает аннотации типов в PyCharm: !story
    сделано: no
    ситуация:
      - Уже развернул проект у себя в local-окружении
      - Не хочу отвлекаться на изучение конфигурации Docker и Docker Compose
      - Внёс изменения в py-скрипты и забыл проставить аннотацию типов
    успех:
      - Вижу подсветку проблем в py-коде

  Криво форматирован py-код в VSCode: !story
    сделано: no
    ситуация:
      - Уже развернул проект у себя в local-окружении
      - Не хочу отвлекаться на изучение конфигурации Docker и Docker Compose
    успех:
      - Вижу подсветку проблем в py-коде

  Не хватает аннотации типов в VSCode: !story
    сделано: no
    ситуация:
      - Уже развернул проект у себя в local-окружении
      - Не хочу отвлекаться на изучение конфигурации Docker и Docker Compose
      - Внёс изменения в py-скрипты и забыл проставить аннотацию типов
    успех:
      - Вижу подсветку проблем в py-коде

Программист — Опубликовать свежий docker-образ: !func
  Новая версия ПО: !story
    сделано: no
    ситуация:
      - Починил критическую багу в tg-боте
      - Хочу опубликовать новую минорную версию ПО
    успех:
      - Прошёл инструкции до конца без явных сбоев
      - Вижу новую версию ПО в changelog
      - Вижу новую версию ПО на Docker Hub
